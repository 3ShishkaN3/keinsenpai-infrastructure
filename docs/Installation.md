# üöÄ Keisenpai - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã

## üìã –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ
- [–û–±–∑–æ—Ä –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã](#-–æ–±–∑–æ—Ä-–∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã)
- [–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã](#-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã-—Å–∏—Å—Ç–µ–º—ã)
- [–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è](#-–ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
- [–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö](#-—É—Å—Ç–∞–Ω–æ–≤–∫–∞-–Ω–∞-—Ä–∞–∑–ª–∏—á–Ω—ã—Ö-–æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö-—Å–∏—Å—Ç–µ–º–∞—Ö)
- [–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤](#-–ø–æ–¥—Ä–æ–±–Ω–æ–µ-–æ–ø–∏—Å–∞–Ω–∏–µ-–∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã—Ö-—Ñ–∞–π–ª–æ–≤)
- [Troubleshooting](#-—É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ-–Ω–µ–ø–æ–ª–∞–¥–æ–∫)

## üåê –û–±–∑–æ—Ä –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã

–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–ª—é—á–µ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:

### üèó –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã

#### –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã
2. **Java-—Å–µ—Ä–≤–∏—Å—ã (Spring Boot)**:
   - –°–µ—Ä–≤–∏—Å –ø–ª–∞—Ç–µ–∂–µ–π
   - –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–π —Å–µ—Ä–≤–∏—Å
   - –°–µ—Ä–≤–∏—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
   - –°–µ—Ä–≤–∏—Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
   - API Gateway


1. **Go-—Å–µ—Ä–≤–∏—Å—ã (Gin Framework)**:
   - –°–µ—Ä–≤–∏—Å –∫—É—Ä—Å–æ–≤
   - –°–µ—Ä–≤–∏—Å —É—Ä–æ–∫–æ–≤
   - –°–µ—Ä–≤–∏—Å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
   - –°–µ—Ä–≤–∏—Å –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –æ–±—É—á–µ–Ω–∏—è

3. **Python-—Å–µ—Ä–≤–∏—Å—ã (FastAPI)**:
   - –°–µ—Ä–≤–∏—Å –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
   - –°–µ—Ä–≤–∏—Å –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤
   - –ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å

4. **Rust-—Å–µ—Ä–≤–∏—Å—ã (Actix Web)**:
   - –°–µ—Ä–≤–∏—Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
   - –°–µ—Ä–≤–∏—Å –ø–æ–∏—Å–∫–∞

#### –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã
- **–ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö**: PostgreSQL (–ø–æ –æ–¥–Ω–æ–π –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞)
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: Redis
- **–û—á–µ—Ä–µ–¥—å —Å–æ–æ–±—â–µ–Ω–∏–π**: RabbitMQ
- **–û–±—ä–µ–∫—Ç–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ**: MinIO
- **–•—Ä–∞–Ω–∏–ª–∏—â–µ –≤–∏–¥–µ–æ**: Nginx

## üõ† –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –ù–µ–æ–±—Ö–æ–¥–∏–º–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ
- Docker (–≤–µ—Ä—Å–∏—è 20.10.0 –∏–ª–∏ –≤—ã—à–µ)
- Docker Compose (–≤–µ—Ä—Å–∏—è 1.29.0 –∏–ª–∏ –≤—ã—à–µ)
- Git

## üíª –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö

### Windows 10/11

1. **–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞**
   ```powershell
   # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker Desktop
   winget install Docker.DockerDesktop

   # –í–∫–ª—é—á–µ–Ω–∏–µ WSL 2
   wsl --install
   wsl --update
   wsl --set-default-version 2
   ```

2. **–ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è**
   ```powershell
   git clone https://gitverse.ru/shish/keisenpai-infrastructure
   cd infrastructure
   ```

3. **–ó–∞–ø—É—Å–∫ Jenkins –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞**
   ```powershell
   chmod +x run.sh
   ./run.sh
   ```

### Ubuntu (20.04/22.04)

1. **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**
   ```bash
   # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
   sudo apt update && sudo apt upgrade -y

   # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker
   sudo apt install apt-transport-https ca-certificates curl software-properties-common
   curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg
   echo "deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null
   
   sudo apt update
   sudo apt install docker-ce docker-compose
   sudo usermod -aG docker $USER
   ```

2. **–ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è**
   ```bash
   git clone https://gitverse.ru/shish/keisenpai-infrastructure
   cd infrastructure
   ```

3. **–ó–∞–ø—É—Å–∫ Jenkins –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞**
   ```bash
   chmod +x run.sh
   ./run.sh
   ```

### Arch Linux

1. **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**:
   ```bash
   # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
   sudo pacman -Syu

   # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker
   sudo pacman -S docker

   # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker Compose
   sudo pacman -S docker-compose

   # –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –≥—Ä—É–ø–ø—É docker (–¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Docker –±–µ–∑ sudo)
   sudo usermod -aG docker $USER

   # –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã –∏–ª–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–ª–µ–¥—É—é—â–µ–π –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
   newgrp docker
   ```

2. **–ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è**:
   ```bash
   git clone https://gitverse.ru/shish/keisenpai-infrastructure
   cd infrastructure
   ```

3. **–ó–∞–ø—É—Å–∫ Jenkins –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞**:
   ```bash
   ./run.sh
   ```

4. **(–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Jenkins** –î–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Jenkins –Ω–∞ Arch Linux –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å AUR:
   ```bash
   yay -S jenkins
   ```

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Jenkins, –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å:
   ```bash
   sudo systemctl start jenkins
   sudo systemctl enable jenkins
   ```
–í—ã –º–æ–∂–µ—Ç–µ –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ Jenkins –ø–æ –∞–¥—Ä–µ—Å—É http://localhost:8080.

### macOS

1. **–£—Å—Ç–∞–Ω–æ–≤–∫–∞**
   ```bash
   # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Homebrew
   /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"

   # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker Desktop
   brew install --cask docker

   # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Git
   brew install git
   ```

2. **–ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è**
   ```bash
   git clone https://gitverse.ru/shish/keisenpai-infrastructure
   cd infrastructure
   ```

3. **–ó–∞–ø—É—Å–∫ Jenkins –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞**
   ```bash
   chmod +x run.sh
   ./run.sh
   ```

## üîç –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

### üìÑ Jenkinsfile: –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è CI/CD

#### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- **Checkout**: –ó–∞–≥—Ä—É–∑–∫–∞ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞ –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è, –ª–∏–±–æ —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–≥–ª—É—à–µ–∫
- **–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è —Å–±–æ—Ä–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤**: –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ Docker-–æ–±—Ä–∞–∑–æ–≤ –¥–ª—è –≤—Å–µ—Ö –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤
- **–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
- **–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ**: –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫ Docker Compose
- **–û—á–∏—Å—Ç–∫–∞**: –£–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö Docker-–æ–±—Ä–∞–∑–æ–≤

#### –ö–ª—é—á–µ–≤—ã–µ —ç—Ç–∞–ø—ã
1. –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–¥–∞
2. –°–±–æ—Ä–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤
3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–≤
4. –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
5. –ü–æ—Å—Ç–æ–±—Ä–∞–±–æ—Ç–∫–∞

### üìÑ docker-compose.yml: –û–ø–∏—Å–∞–Ω–∏–µ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã

#### –°—Ç—Ä—É–∫—Ç—É—Ä–∞
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤—Å–µ—Ö –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ç–µ–≤–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–æ—Ä—Ç–æ–≤
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ —Å–µ—Ä–≤–∏—Å–æ–≤
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–æ–º–æ–≤ –¥–ª—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

#### –ö–ª—é—á–µ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- –í–µ—Ä—Å–∏—è Docker Compose: `3.8`
- –û–±—â–∞—è —Å–µ—Ç—å: `keisenpai-network`
- Volumes –¥–ª—è –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö
- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- –ú–∞–ø–ø–∏–Ω–≥ –ø–æ—Ä—Ç–æ–≤

## üö® –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –û–±—â–∏–µ –ø—Ä–æ–±–ª–µ–º—ã
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –ø–æ—Ä—Ç–æ–≤
- –ê–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤ Docker
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–π Docker –∏ Docker Compose

### –ö–æ–º–∞–Ω–¥—ã –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose ps

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker-compose logs [service-name]

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ç–∏
docker network ls
docker network inspect keisenpai-network
```

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

1. –°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω—ã—Ö –º–∏–≥—Ä–∞—Ü–∏–π –ë–î
2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
3. –ü–µ—Ä–≤–∏—á–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤

